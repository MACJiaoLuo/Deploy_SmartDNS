# dns server name, defaut is host name
server-name smartdns

# Include another configuration options
# conf-file [file]
# conf-file blacklist-ip.conf

# dns server bind ip and port, default dns server port is 53.
# bind [IP]:port, udp server
# bind-tcp [IP]:port, tcp server
# example: 
#   IPV4: :53
#   IPV6  [::]:53
# bind-tcp [::]:53

bind [::]:53

# tcp connection idle timeout
# tcp-idle-time [second]
tcp-idle-time 120

# dns cache size
# cache-size [number]
#   0: for no cache
cache-size 1024

# prefetch domain
# prefetch-domain [yes|no]
# prefetch-domain yes

# List of hosts that supply bogus NX domain results 
# bogus-nxdomain [ip/subnet]
##IPV4
###Reserved IP
bogus-nxdomain 0.0.0.0/8
bogus-nxdomain 10.0.0.0/8
bogus-nxdomain 127.0.0.0/8
bogus-nxdomain 100.64.0.0/10
bogus-nxdomain 169.254.0.0/16
bogus-nxdomain 172.16.0.0/12
bogus-nxdomain 192.0.0.0/24
bogus-nxdomain 192.0.2.0/24
bogus-nxdomain 192.31.196.0/24
bogus-nxdomain 192.52.193.0/24
bogus-nxdomain 192.88.99.0/24
bogus-nxdomain 192.168.0.0/16
bogus-nxdomain 192.175.48.0/24
bogus-nxdomain 198.18.0.0/15
bogus-nxdomain 198.51.100.0/24
bogus-nxdomain 203.0.113.0/24
bogus-nxdomain 224.0.0.0/4
bogus-nxdomain 240.0.0.0/4
###Level3
bogus-nxdomain 104.239.213.7
bogus-nxdomain 198.105.254.11
###IP of DoD
bogus-nxdomain 6.0.0.0/7
bogus-nxdomain 11.0.0.0/8
bogus-nxdomain 21.0.0.0/7
bogus-nxdomain 26.0.0.0/8
bogus-nxdomain 28.0.0.0/7
bogus-nxdomain 30.0.0.0/8
bogus-nxdomain 33.0.0.0/8
bogus-nxdomain 55.0.0.0/8
bogus-nxdomain 214.0.0.0/7
###IP of Prudential plc
bogus-nxdomain 48.0.0.0/8
###IP of USPS
bogus-nxdomain 56.0.0.0/8
##IPV6
###Reserved IP
bogus-nxdomain ::/8
bogus-nxdomain ::1/8
bogus-nxdomain FE80::/10
bogus-nxdomain FC00::/7
bogus-nxdomain FF00::/8
bogus-nxdomain FF02::/8
bogus-nxdomain 2001::/23
bogus-nxdomain 2001:2::/48
bogus-nxdomain 2001:3::/32
bogus-nxdomain 2001:4:112::/48
bogus-nxdomain 2001:5::/32
bogus-nxdomain 2001:20::/28
bogus-nxdomain 2001:01F8::/29
bogus-nxdomain 2001:DB8::/32
bogus-nxdomain 2620:4F:8000::/48
bogus-nxdomain 3FFE::/16
bogus-nxdomain 4000::/3
bogus-nxdomain 5F00::/8
bogus-nxdomain 6000::/3
bogus-nxdomain 8000::/3
bogus-nxdomain A000::/3
bogus-nxdomain C000::/3
bogus-nxdomain E000::/4
bogus-nxdomain F000::/5
bogus-nxdomain F800::/6
bogus-nxdomain FC00::/7
bogus-nxdomain FE00::/9
bogus-nxdomain FF00::/8
bogus-nxdomain 2002::/16
bogus-nxdomain 2001:DB8::/32
bogus-nxdomain FEC0::/10
bogus-nxdomain ::FFFF:0:0/96
bogus-nxdomain 64:FF9B::/96
bogus-nxdomain 64:FF9B:1::/48
bogus-nxdomain 0100::/8
bogus-nxdomain 100::/64
bogus-nxdomain 0200::/7
bogus-nxdomain 0400::/6
bogus-nxdomain 0800::/5
bogus-nxdomain 1000::/4

# List of IPs that will be filtered when nameserver is configured -blacklist-ip parameter
# blacklist-ip [ip/subnet]
##IPV4
blacklist-ip 10.10.10.10
blacklist-ip 101.226.10.0/24
blacklist-ip 103.205.240.0/24
blacklist-ip 104.239.213.0/24
blacklist-ip 108.160.0.0/16
blacklist-ip 110.249.209.0/24
blacklist-ip 1.1.1.1
blacklist-ip 111.11.208.0/24
blacklist-ip 111.175.220.0/23
blacklist-ip 112.132.230.0/24
blacklist-ip 114.112.163.0/24
blacklist-ip 122.218.101.0/24
blacklist-ip 123.125.81.0/24
blacklist-ip 123.126.249.0/24
blacklist-ip 123.129.254.0/24
blacklist-ip 1.2.3.4
blacklist-ip 123.50.49.0/24
blacklist-ip 124.14.8.0/24
blacklist-ip 124.232.132.0/24
blacklist-ip 125.211.213.0/24
blacklist-ip 125.230.148.0/24
blacklist-ip 125.76.239.0/24
blacklist-ip 128.121.126.0/24
blacklist-ip 12.87.133.0/24
blacklist-ip 159.106.121.0/24
blacklist-ip 159.24.3.0/24
blacklist-ip 16.63.155.0/24
blacklist-ip 169.132.13.0/24
blacklist-ip 173.201.216.0/24
blacklist-ip 180.153.103.0/24
blacklist-ip 180.168.41.0/24
blacklist-ip 183.207.232.0/24
blacklist-ip 185.85.13.0/24
blacklist-ip 188.5.4.0/24
blacklist-ip 189.163.17.0/24
blacklist-ip 197.4.4.0/24
blacklist-ip 198.105.254.0/24
blacklist-ip 20.139.56.0
blacklist-ip 20.20.20.20
blacklist-ip 202.100.220.0/24
blacklist-ip 202.100.68.0/24
blacklist-ip 202.102.110.0/24
blacklist-ip 202.106.1.0/24
blacklist-ip 202.106.199.0/24
blacklist-ip 202.181.7.0/24
blacklist-ip 202.98.24.0/24
blacklist-ip 202.99.254.0/24
blacklist-ip 203.161.230.0/24
blacklist-ip 203.199.57.0/24
blacklist-ip 203.98.7.0/24
blacklist-ip 204.155.147.0/24
blacklist-ip 207.12.88.0/24
blacklist-ip 208.109.138.0/24
blacklist-ip 208.56.31.0/24
blacklist-ip 208.69.32.0/24
blacklist-ip 208.69.34.0/24
blacklist-ip 209.145.54.0/24
blacklist-ip 209.220.30.0/24
blacklist-ip 209.36.73.0/24
blacklist-ip 209.85.229.0/24
blacklist-ip 210.242.125.0/24
blacklist-ip 211.136.113.0/24
blacklist-ip 211.137.130.0/24
blacklist-ip 211.138.102.0/24
blacklist-ip 211.138.34.0/24
blacklist-ip 211.138.74.0/24
blacklist-ip 211.139.136.0/24
blacklist-ip 2.1.1.2
blacklist-ip 211.5.133.0/24
blacklist-ip 211.8.69.0/24
blacklist-ip 211.94.66.0/24
blacklist-ip 211.98.70.0/23
blacklist-ip 213.169.251.0/24
blacklist-ip 213.186.33.0/24
blacklist-ip 216.139.213.0/24
blacklist-ip 216.221.188.0/24
blacklist-ip 216.234.179.0/24
blacklist-ip 218.241.116.0/24
blacklist-ip 218.28.144.0/24
blacklist-ip 218.30.64.0/24
blacklist-ip 218.68.250.0/24
blacklist-ip 218.93.250.0/24
blacklist-ip 219.146.13.0/24
blacklist-ip 220.165.8.0/24
blacklist-ip 220.250.64.0/24
blacklist-ip 221.179.46.0/24
blacklist-ip 221.192.153.0/24
blacklist-ip 221.204.244.0/24
blacklist-ip 221.8.69.0/24
blacklist-ip 222.221.5.0/24
blacklist-ip 223.82.248.0/24
blacklist-ip 23.89.5.0/24
blacklist-ip 243.185.187.0/24
blacklist-ip 24.51.184.0
blacklist-ip 249.129.46.0/24
blacklist-ip 253.157.14.0/24
blacklist-ip 255.255.255.255
blacklist-ip 28.121.126.0/24
blacklist-ip 28.13.216.0
blacklist-ip 31.13.0.0/16
blacklist-ip 37.61.54.0/24
blacklist-ip 4.193.80.0
blacklist-ip 42.123.125.0/24
blacklist-ip 4.36.66.0/24
blacklist-ip 46.20.126.0/24
blacklist-ip 46.38.24.0/24
blacklist-ip 46.82.174.0/24
blacklist-ip 49.2.123.0/24
blacklist-ip 54.76.135.0/24
blacklist-ip 58.53.211.0/24
blacklist-ip 59.24.3.0/24
blacklist-ip 60.191.124.0/24
blacklist-ip 60.19.29.0/24
blacklist-ip 61.131.208.0/24
blacklist-ip 61.139.8.0/24
blacklist-ip 61.183.1.0/24
blacklist-ip 61.191.206.0/24
blacklist-ip 61.54.28.0/24
blacklist-ip 64.33.88.0/24
blacklist-ip 4.33.99.0/24
blacklist-ip 64.66.163.0/24
blacklist-ip 65.104.202.0/24
blacklist-ip 65.160.219.0/24
blacklist-ip 65.49.2.0/24
blacklist-ip 66.206.11.0/24
blacklist-ip 66.220.0.0/16
blacklist-ip 66.45.252.0/24
blacklist-ip 67.215.65.0/24
blacklist-ip 67.215.77.0/24
blacklist-ip 72.14.205.0/24
blacklist-ip 74.117.182.0/24
blacklist-ip 74.117.57.0/24
blacklist-ip 74.125.0.0/16
blacklist-ip 77.4.7.0/24
blacklist-ip 78.16.49.0/24
blacklist-ip 8.105.84.0/24
blacklist-ip 8.7.198.0/24
blacklist-ip 89.31.55.0/24
blacklist-ip 92.242.144.0/24
blacklist-ip 93.46.8.0/24
blacklist-ip 95.211.189.0/24
blacklist-ip 208.101.0.0/16
blacklist-ip 74.86.0.0/16
blacklist-ip 69.63.0.0/16
blacklist-ip 75.126.0.0/16
blacklist-ip 199.59.0.0/16
blacklist-ip 67.228.0.0/16
blacklist-ip 88.191.0.0/16
blacklist-ip 199.16.0.0/16
blacklist-ip 172.217.24.0/24
blacklist-ip 172.217.161.0/24
blacklist-ip 88.191.249.0/24
blacklist-ip 103.207.229.0/24
blacklist-ip 120.196.0.0/24
blacklist-ip 101.110.118.0/24
blacklist-ip 113.12.83.0/24
blacklist-ip 125.88.131.0/24
blacklist-ip 120.52.72.0/23
blacklist-ip 69.171.0.0/16
blacklist-ip 67.15.0.0/16
blacklist-ip 173.252.0.0/16
blacklist-ip 174.36.0.0/16
blacklist-ip 174.36.0.0/15
blacklist-ip 205.186.152.0/24
blacklist-ip 208.43.0.0/16
blacklist-ip 64.13.0.0/16
blacklist-ip 120.192.83.0/24
blacklist-ip 183.221.242.0/24
blacklist-ip 183.221.250.0/24
blacklist-ip 183.224.40.0/24
##IPV6
blacklist-ip ::9000:0:0:0/72
blacklist-ip 101::1234
blacklist-ip 10::2222
blacklist-ip 2001:1::1
blacklist-ip 2001:1::2
blacklist-ip 2001::212
blacklist-ip 2001:DA8:112::21AE
blacklist-ip 200:2:253D:369E::
blacklist-ip 200:2:2E52:AE44::
blacklist-ip 200:2:3B18:3AD::
blacklist-ip 200:2:4E10:310F::
blacklist-ip 200:2:5D2E:859::
blacklist-ip 200:2:807:C62D::
blacklist-ip 200:2:9F6A:794B::
blacklist-ip 200:2:CB62:741::
blacklist-ip 200:2:F3B9:BB27::
blacklist-ip 2003:FF:1:2:3:4:5FFF:0/112
blacklist-ip 21:2::2
blacklist-ip 2123::3E12
blacklist-ip 50A7:26E::64:CEEF:0:0

# List of IPs that will be ignored
# ignore-ip [ip/subnet]

# force AAAA query return SOA
# force-AAAA-SOA [yes|no]

# Enable IPV4, IPV6 dual stack IP optimization selection strategy
# dualstack-ip-selection-threshold [num] (0~1000)
# dualstack-ip-selection [yes|no]
# dualstack-ip-selection yes

# edns client subnet
# edns-client-subnet [ip/subnet]
# edns-client-subnet 192.168.1.1/24
# edns-client-subnet [8::8]/56

# ttl for all resource record
# rr-ttl: ttl for all record
# rr-ttl-min: minimum ttl for resource record
# rr-ttl-max: maximum ttl for resource record
# example:
# rr-ttl 300
# rr-ttl-min 60
# rr-ttl-max 86400

# set log level
# log-level: [level], level=fatal, error, warn, notice, info, debug
# log-file: file path of log file.
# log-size: size of each log file, support k,m,g
# log-num: number of logs
log-level info
# log-file /var/log/smartdns.log
# log-size 128k
# log-num 2

# dns audit
# audit-enable: enable or disable audit [yes|no]
# audit-enable yes
# audit-size size of each audit file, support k,m,g
# audit-file /var/log/smartdns-audit.log
# audit-size 128k
# audit-num 2

# remote udp dns server list
# server [IP]:[PORT] [-blacklist-ip] [-check-edns] [-group [group] ...] [-exclude-default-group]
# default port is 53
#   -blacklist-ip: filter result with blacklist ip
#   -check-edns: result must exist edns RR, or discard result.
#   -group [group]: set server to group, use with nameserver /domain/group.
#   -exclude-default-group: exclude this server from default group.
# server 8.8.8.8 -blacklist-ip -check-edns -group g1 -group g2

# remote tcp dns server list
# server-tcp [IP]:[PORT] [-blacklist-ip] [-group [group] ...] [-exclude-default-group]
# default port is 53
# server-tcp 8.8.8.8

# remote tls dns server list
# server-tls [IP]:[PORT] [-blacklist-ip] [-spki-pin [sha256-pin]] [-group [group] ...] [-exclude-default-group]
#   -spki-pin: TLS spki pin to verify.
# Get SKPI with this command:
#    echo | openssl s_client -connect '[ip]:853' | openssl x509 -pubkey -noout | openssl pkey -pubin -outform der | openssl dgst -sha256 -binary | openssl enc -base64
# default port is 853
# server-tls 8.8.8.8
# server-tls 1.0.0.1

# remote https dns server list
# server-https https://[host]:[port]/path [-blacklist-ip] [-spki-pin [sha256-pin]] [-group [group] ...] [-exclude-default-group]
#   -spki-pin: TLS spki pin to verify.
# default port is 443
# server-https https://cloudflare-dns.com/dns-query

# specific nameserver to domain
# nameserver /domain/[group|-]
# nameserver /www.example.com/office, Set the domain name to use the appropriate server group.
# nameserver /www.example.com/-, ignore this domain

# specific address to domain
# address /domain/[ip|-|-4|-6|#|#4|#6]
# address /www.example.com/1.2.3.4, return ip 1.2.3.4 to client
# address /www.example.com/-, ignore address, query from upstream, suffix 4, for ipv4, 6 for ipv6, none for all
# address /www.example.com/#, return SOA to client, suffix 4, for ipv4, 6 for ipv6, none for all

# enable ipset timeout by ttl feature
# ipset-timeout [yes]

# specific ipset to domain
# ipset /domain/[ipset|-]
# ipset /www.example.com/block, set ipset with ipset name of block 
# ipset /www.example.com/-, ignore this domain
